import{a as l,p as e,w as j}from"./chunk-PVWAREVJ-BGDX7Rsd.js";function b(){const[m,w]=l.useState("http://192.168.1.185:8000"),[a,h]=l.useState(""),[r,p]=l.useState("hd_hun"),[o,i]=l.useState(!1),[n,c]=l.useState(null),[d,u]=l.useState(""),f=async()=>{i(!0),u(""),c(null);try{const t=await fetch(`/api/torrents?pattern=${encodeURIComponent(a)}&type=${r}`);if(!t.ok)throw new Error("Hiba a lekérdezésnél");const s=await t.json();c(s)}catch(t){u(t.message||"Ismeretlen hiba")}finally{i(!1)}},g=async t=>{try{const s=await fetch("/api/torrents/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const x=await s.json();return console.log("Download successful:",x),alert("Letöltés sikeresen elindítva!"),x}catch(s){throw console.error("Download failed:",s),alert("Hiba a letöltés során!"),s}};return e.jsx("main",{className:"min-h-screen w-full bg-white flex flex-col justify-center items-center",children:e.jsxs("section",{className:"w-full h-full flex flex-col justify-center items-center px-4 py-16",children:[e.jsx("h1",{className:"text-4xl font-bold text-purple-700 mb-8 text-center",children:"Torrent kereső"}),e.jsxs("div",{className:"w-full max-w-2xl flex flex-col gap-6",children:[e.jsxs("form",{onSubmit:t=>{t.preventDefault(),f()},className:"flex flex-col gap-4 w-full",children:[e.jsxs("select",{style:{fontSize:"16px",fontFamily:"Arial, Helvetica, sans-serif",WebkitAppearance:"none"},value:r,onChange:t=>p(t.target.value),className:"w-full px-4 py-3 border-2 border-purple-400 rounded-lg focus:outline-none focus:border-indigo-500 text-base bg-white",children:[e.jsx("option",{value:"hd_hun",children:"HD - Magyar filmek"}),e.jsx("option",{value:"hd",children:"HD - Angol filmek"}),e.jsx("option",{value:"hdser_hun",children:"HD - Magyar sorozatok"}),e.jsx("option",{value:"hdser",children:"HD - Angol sorozatok"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[e.jsx("input",{type:"text",name:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:!1,value:a,style:{fontSize:"16px",fontFamily:"Arial, Helvetica, sans-serif",WebkitAppearance:"none"},onChange:t=>h(t.target.value),placeholder:"Keresési minta...",className:"flex-1 px-4 py-3 border-2 border-purple-400 rounded-lg focus:outline-none focus:border-indigo-500 text-base",required:!0}),e.jsx("button",{type:"submit",disabled:o||!a,className:`px-8 py-3 rounded-lg text-lg font-semibold transition-colors ${o||!a?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-indigo-400 to-purple-500 text-white hover:from-indigo-500 hover:to-purple-600"}`,children:o?"Keresés...":"Keresés"})]})]}),d&&e.jsx("div",{className:"text-red-500 font-medium text-center",children:d}),n&&e.jsxs("div",{className:"w-full mt-4",children:[e.jsxs("h2",{className:"text-indigo-600 text-xl font-semibold mb-4",children:["Találatok (",n.torrents.length," db):"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-auto",children:n.torrents.map(t=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2",children:t.title}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Méret:"}),e.jsxs("span",{className:"font-medium",children:[(t.size._size/1024**3).toFixed(2)," GB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Seedek:"}),e.jsx("span",{className:"font-medium text-green-600",children:t.seed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dátum:"}),e.jsx("span",{className:"font-medium",children:new Date(t.date).toLocaleDateString("hu-HU")})]})]}),e.jsx("div",{className:"mt-3 flex gap-2",children:e.jsx("button",{onClick:()=>g(t),className:"flex-1 bg-green-500 text-white text-center py-2 px-3 rounded text-sm font-medium hover:bg-green-600 transition-colors cursor-pointer",children:"Letöltés"})})]},t.id))})]})]})]})})}function v({}){return[{title:"New React Router App"},{name:"description",content:"Welcome to React Router!"}]}const N=j(function(){return e.jsx(b,{})});export{N as default,v as meta};
